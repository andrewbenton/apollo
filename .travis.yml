language: vala

compiler:
    - valac
    - gcc

before_script:
    - mkdir build
    - cd build
    - cmake ..
    - make

before_install:
    sudo apt-get install libgee-0.8 libgee-0.8-dev libjson-glib-1.0-0 libjson-glib-1.0-common libvala-0.28-0 libvala-0.28-dev libvala-0.28-0-dbg cmake
    #- wget https://download.gnome.org/sources/vala/0.30/vala-0.30.0.tar.xz -O /tmp/vala-0.30.0.tar.gz
    #- tar xvf /tmp/vala-0.30.0.tar.gz
    #- cd vala-0.30.0 && ./configure && sudo make && sudo make install

script: make test
